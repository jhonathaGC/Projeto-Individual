<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js/dist/Chart.min.js"></script>
</head>

<body onload="CarregarGrafico()">

    <canvas id="graficos">

    </canvas>

</body>

</html>
<script>

    function CarregarGrafico() {

        var pizza = document.getElementById('graficos').getContext('2d')

        fetch('http://localhost:3333/resultados')
            .then((response) => response.json())
            .then((res) => {
                var RespostaUsuario = res.filter((registro) => registro.fkUsuario === 1)
                var acertos = 0
                var erros = 0
                RespostaUsuario.forEach((registro) => {
                    acertos = registro.respostaCorreta
                    erros = registro.respostaErrada
                })
                var grafico = new Chart(pizza, {
                    type: "doughnut",
                    data: {
                        labels: ["Acertos", "Erros"],
                        datasets: [
                            {
                                data: [acertos, erros],
                                borderWidth: "0",
                                backgroundColor: [
                                    'rgb(255, 99, 132)',
                                    'rgb(54, 162, 235)',
                                    'rgb(255, 205, 86)'
                                ],

                            },
                        ],
                    },
                    options: {
                        legend: {
                            position: "right",
                            labels: {
                                fontColor: "black",
                            },
                        },
                        responsive: true,
                        maintainAspectRatio: false,
                    },
                });
            })
    }

</script>